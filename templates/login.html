{% load static %}
<head>
    <link rel="stylesheet" href="{% static 'css/login.css' %}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@100..900&family=Noto+Sans:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
</head>
<body>
    <div class="login-page">
        <h2>ログイン</h2>
        <form method="POST" action="{% url 'login' %}" class="login-form">
            {% csrf_token %}
            <label for="email">メールアドレス</label>
            <br>
            <input type="email" name="email" id="email" required>
            <br>
            <label for="password">パスワード</label>
            <br>
            <div class="password-container">
                <input type="password" name="password" id="password" required>
                <img src="{% static 'images/eye.png' %}" alt="確認" class="password-check" onclick="togglePasswordVisibility()">
                <img src="{% static 'images/closed_eye.png' %}" alt="閉じる" class="password-close" onclick="togglePasswordVisibility()">
            </div>
            <br>
            <div class="login-button-container">
                <button type="submit" class="login-button">ログイン</button>
            </div>
        </form>
        {% if error_message %}
        <p style="color: red;">{{ error_message }}</p>
        {% endif %}
    </div>
</body>
<script>
    function togglePasswordVisibility() {
        const passwordInput = document.getElementById('password');
        const passwordType = passwordInput.getAttribute('type');
        const passwordClose = document.querySelector('.password-close');
        const passwordCheck = document.querySelector('.password-check');
        if (passwordType === 'password') {
            passwordInput.setAttribute('type', 'text');
            passwordClose.style.display = 'block';
            passwordCheck.style.display = 'none';
        } else {
            passwordInput.setAttribute('type', 'password');
            passwordClose.style.display = 'none';
            passwordCheck.style.display = 'block';
        }
    }
</script>
</html>
